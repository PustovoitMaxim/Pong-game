System.register("chunks:///_virtual/BallController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,n,i,l,t,a,r,s,c,d,h,g,u,y;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){t=e.cclegacy,a=e._decorator,r=e.Vec2,s=e.Node,c=e.PhysicsSystem2D,d=e.RigidBody2D,h=e.Collider2D,g=e.Contact2DType,u=e.find,y=e.Component}],execute:function(){var f,m,p,B,M,C,v;t._RF.push({},"7a3f0YUS3FJ37O6HS7RETvp","BallController",void 0);var L=a.ccclass,b=a.property;e("BallController",(f=L("BallController"),m=b(r),p=b(s),f((C=o((M=function(e){function o(){for(var o,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return o=e.call.apply(e,[this].concat(t))||this,i(o,"startVelocity",C,l(o)),i(o,"gameManagerNode",v,l(o)),o.rigidBody=null,o.gameManager=null,o.isLaunched=!1,o}n(o,e);var t=o.prototype;return t.onLoad=function(){console.log("=== BALL CONTROLLER LOADED ==="),console.log("Physics enabled:",c.instance.enable),this.rigidBody=this.getComponent(d),console.log("RigidBody found:",!!this.rigidBody);var e=this.getComponent(h);console.log("Collider found:",!!e),e&&(console.log("Collider enabled:",e.enabled),console.log("Collider isTrigger:",e.isTrigger),e.on(g.BEGIN_CONTACT,this.onCollision,this),console.log("Collision callback registered")),this.findGameManager(),this.reset()},t.findGameManager=function(){this.gameManagerNode||(this.gameManagerNode=u("Canvas/Game")),this.gameManagerNode&&(this.gameManager=this.gameManagerNode.getComponent("GameManager"),console.log("GameManager found:",!!this.gameManager))},t.start=function(){var e=this;this.scheduleOnce((function(){return e.launch()}),1)},t.update=function(e){var o=this.node.position;o.x<-500?this.isLaunched&&(console.log("âš½ Goal for right player!"),this.scorePoint(!1),this.isLaunched=!1):o.x>500&&this.isLaunched&&(console.log("âš½ Goal for left player!"),this.scorePoint(!0),this.isLaunched=!1),(o.y>280||o.y<-280)&&(console.log("ðŸ”„ Manual wall bounce detected"),this.handleWallBounce())},t.scorePoint=function(e){this.gameManager&&this.gameManager.scorePoint(e)},t.onCollision=function(e,o){var n=o.node;console.log("ðŸ’¥ COLLISION with:",n.name),n.name.includes("Paddle")?(console.log("ðŸŽ¯ Paddle bounce"),this.handlePaddleBounce(n)):n.name.includes("Wall")?(console.log("ðŸ§± Wall bounce"),this.handleWallBounce()):console.log("â“ Unknown collision with:",n.name)},t.handlePaddleBounce=function(e){var o=e.name.includes("Left"),n=this.rigidBody.linearVelocity.length(),i=Math.min(1.05*n,500),l=e.position.y,t=(this.node.position.y-l)/60,a=new r(o?Math.abs(i):-Math.abs(i),200*t);this.rigidBody.linearVelocity=a.normalize().multiplyScalar(i),console.log("ðŸŽ¯ New velocity after paddle:",this.rigidBody.linearVelocity)},t.handleWallBounce=function(){var e=this.rigidBody.linearVelocity,o=e.length(),n=Math.max(o,25),i=new r(e.x,-e.y);this.rigidBody.linearVelocity=i.normalize().multiplyScalar(n),console.log("ðŸ§± Wall bounce - Speed:",n)},t.launch=function(){if(!this.isLaunched){var e=Math.random()>.5?1:-1,o=(60*Math.random()-30)*Math.PI/180,n=new r(Math.cos(o)*this.startVelocity.x*e,Math.sin(o)*this.startVelocity.x);this.rigidBody.linearVelocity=n,this.isLaunched=!0,console.log("ðŸš€ Ball launched with velocity:",n)}},t.reset=function(){var e=this;this.node.setPosition(0,0,0),this.rigidBody.linearVelocity=r.ZERO,this.isLaunched=!1,this.scheduleOnce((function(){return e.launch()}),1),console.log("ðŸ”„ Ball reset")},o}(y)).prototype,"startVelocity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(300,0)}}),v=o(M.prototype,"gameManagerNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=M))||B));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,r,l,t,n,a,s,i,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.Label,i=e.Node,c=e.Component}],execute:function(){var u,f,g,h,p,b,d;n._RF.push({},"834affDATVOoJNLJXCDfmGH","GameManager",void 0);var L=a.ccclass,m=a.property;e("GameManager",(u=L("GameManager"),f=m(s),g=m(i),u((b=o((p=function(e){function o(){for(var o,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,l(o,"scoreLabel",b,t(o)),l(o,"ball",d,t(o)),o.scoreLeft=0,o.scoreRight=0,o}r(o,e);var n=o.prototype;return n.onLoad=function(){console.log("GameManager loaded"),console.log("Ball node:",this.ball),console.log("Score label:",this.scoreLabel)},n.start=function(){this.updateScore()},n.scorePoint=function(e){console.log("ScorePoint called! Left player:",e),e?(this.scoreLeft++,console.log("Left player scores! Total:",this.scoreLeft)):(this.scoreRight++,console.log("Right player scores! Total:",this.scoreRight)),this.updateScore(),this.resetBall()},n.updateScore=function(){this.scoreLabel?(this.scoreLabel.string=this.scoreLeft+" - "+this.scoreRight,console.log("Score updated:",this.scoreLabel.string)):console.error("ScoreLabel is null!")},n.resetBall=function(){if(console.log("Resetting ball from GameManager..."),this.ball){var e=this.ball.getComponent("BallController");e?e.reset():console.error("BallController not found on ball node!")}else console.error("Ball node is null!")},o}(c)).prototype,"scoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=o(p.prototype,"ball",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BallController.ts","./GameManager.ts","./PaddleController.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PaddleController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,i,r,s,a,l,d,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.input,l=e.Input,d=e.KeyCode,p=e.Component}],execute:function(){var y,c,u,h;r._RF.push({},"3a3145++4NO3IzHId3bd1a8","PaddleController",void 0);var m=s.ccclass,f=s.property;e("PaddleController",m("PaddleController")((u=t((c=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"moveSpeed",u,i(t)),n(t,"isLeftPaddle",h,i(t)),t.movement=0,t}o(t,e);var r=t.prototype;return r.onLoad=function(){a.on(l.EventType.KEY_DOWN,this.onKeyDown,this),a.on(l.EventType.KEY_UP,this.onKeyUp,this)},r.update=function(e){if(0!==this.movement){var t=this.node.position.clone();t.y+=this.movement*this.moveSpeed*e,t.y=Math.max(-250,Math.min(250,t.y)),this.node.setPosition(t)}},r.onKeyDown=function(e){this.isLeftPaddle?e.keyCode===d.KEY_W?this.movement=1:e.keyCode===d.KEY_S&&(this.movement=-1):e.keyCode===d.ARROW_UP?this.movement=1:e.keyCode===d.ARROW_DOWN&&(this.movement=-1)},r.onKeyUp=function(e){this.isLeftPaddle?e.keyCode!==d.KEY_W&&e.keyCode!==d.KEY_S||(this.movement=0):e.keyCode!==d.ARROW_UP&&e.keyCode!==d.ARROW_DOWN||(this.movement=0)},r.onDestroy=function(){a.off(l.EventType.KEY_DOWN,this.onKeyDown,this),a.off(l.EventType.KEY_UP,this.onKeyUp,this)},t}(p)).prototype,"moveSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 400}}),h=t(c.prototype,"isLeftPaddle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=c))||y);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});